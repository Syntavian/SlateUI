import{toPx as d}from"./cssUtils";let b=document.querySelectorAll(".image-carousel"),e="";function f(n,e,k){let a=b[n],g=0,h=0;for(let i=0;i<a.querySelectorAll(".image,.placeholder").length;i++){let l=a.querySelectorAll(".image,.placeholder")[i];Number(l.style.zIndex)>g&&(g=Number(l.style.zIndex),h=i)}if(a.querySelectorAll(".image,.placeholder")[h+e].classList.contains("placeholder"))return;let m=!1;for(let c of Array.from(a.querySelectorAll(".image,.placeholder"))){let f=Number(c.style.zIndex);m?c.style.zIndex=String(f+e):((f==g||e<0&&f-e==g)&&(m=!0),c.style.zIndex=String(f-e)),f<0?c.style.display="none":c.style.display="flex";let o=k/2,p=f/g,j=d(k+o*p);c.style.width=j,c.style.height=j,c.style.minWidth=j,c.style.minHeight=j}a.querySelectorAll(".image,.placeholder")[h+e+1].classList.contains("placeholder")?a.children[a.children.length-1].classList.add("disabled"):a.children[a.children.length-1].classList.remove("disabled"),a.querySelectorAll(".image,.placeholder")[h+e-1].classList.contains("placeholder")?a.children[0].classList.add("disabled"):a.children[0].classList.remove("disabled")}function c(w){let a=b[w],j=Math.floor(a.children.length/2-.5),k=0,l=0,m=getComputedStyle(a.children[0]).marginLeft;j>2&&(j=2);for(let v=0;v<j;v++){let g=document.createElement("div");g.classList.add("placeholder"),g.style.marginLeft=m,g.style.marginRight=m,a.prepend(g),(g=document.createElement("div")).classList.add("placeholder"),g.style.marginLeft=m,g.style.marginRight=m,a.append(g)}for(let s=0;s<a.children.length;s++){let n=getComputedStyle(a.children[s]);Number(n.height.replace("px",""))>k&&(k=Number(n.height.replace("px",""))),Number(n.width.replace("px",""))>k&&(k=Number(n.width.replace("px","")))}for(let c=0;c<a.children.length;c++){let t=-Math.abs(c-Math.floor(a.children.length/2))+j;a.children[c].style.zIndex=t,t<0&&(a.children[c].style.display="none");let u=k+k/2*(t/j);l=l<u?u:l;let o=d(u);a.children[c].style.width=o,a.children[c].style.height=o,a.children[c].style.minWidth=o,a.children[c].style.minHeight=o}for(let p=0;p<a.children.length;p++)a.children[p].style.marginLeft=d(-l/4),a.children[p].style.marginRight=d(-l/4);let h=document.createElement("div"),i=document.createElement("div"),q=getComputedStyle(a,"::before"),r=getComputedStyle(a,"::after");h.textContent=q.content.slice(1,q.content.length-1),e?h.classList.value=e:h.classList.add("button","fill"),h.style.fontSize=q.fontSize,h.style.fontWeight=q.fontWeight,h.style.zIndex=j+1,i.textContent=r.content.slice(1,r.content.length-1),e?i.classList.value=e:i.classList.add("button","fill"),i.style.fontSize=r.fontSize,i.style.fontWeight=r.fontWeight,i.style.zIndex=j+1,a.prepend(h),a.append(i),h.addEventListener("click",a=>f(w,-1,k)),i.addEventListener("click",a=>f(w,1,k))}function g(d){let a=b[d];for(let f of(e=a.querySelectorAll(".button")[0].classList.value,a.querySelectorAll(".placeholder,.button")))f.parentElement.removeChild(f);for(let g of a.querySelectorAll(".image"))g.style="";c(d)}for(let a=0;a<b.length;a++)c(a);window.addEventListener("resize",a=>{!function(){for(let a=0;a<b.length;a++)g(a)}()})