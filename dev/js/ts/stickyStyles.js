import{getElementStylesAsNumberSum as b,pxToNumber as c}from"./cssUtils";let d=document.querySelectorAll(".sticky");function a(){for(let a of d){let e=getComputedStyle(a);if("fixed"!=e.position){if(a.getBoundingClientRect().top<0){let f=document.createElement("div");f.style.height=b(e.height)+"px",f.style.width=b(e.width,e.marginLeft,e.marginRight)+"px",f.style.display=e.display,f.className="sticky-placeholder",a.style.position="fixed",a.style.zIndex=99,e=getComputedStyle(a),a.setAttribute("originalPosition",c(e.top)),a.style.top="0px",a.parentElement.insertBefore(f,a)}}else{a.style.top="0px";let g=a.parentElement.children[Array.prototype.indexOf.call(a.parentElement.children,a)-1];g.style.height=b(e.height)+"px",g.style.width=b(e.width,e.marginLeft,e.marginRight)+"px",window.scrollY<=Number(a.getAttribute("originalPosition"))&&(a.style.top=Number(a.getAttribute("originalPosition"))-window.scrollY+"px")}}}a(),document.addEventListener("scroll",function(b){a()},{passive:!1}),window.addEventListener("resize",function(b){!function(){for(let b of d)if(b.removeAttribute("style"),b.removeAttribute("originalPosition"),Array.prototype.indexOf.call(b.parentElement.children,b)-1>=0){let c=b.parentElement.children[Array.prototype.indexOf.call(b.parentElement.children,b)-1];c.classList.contains("sticky-placeholder")&&b.parentElement.removeChild(c)}a()}()},{passive:!1})