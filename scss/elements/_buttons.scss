@use "sass:map";
@use "sass:color";
@use '../variables';
@use '../prototypes';

.button {
    @extend .center !optional;
    @extend .shadow-3 !optional;
    @extend %clickable !optional;
    @include prototypes.border-radius();

    min-width: min-content;
    min-height: min-content;
    padding: 0.5em;

    &.active {
        @extend .shadow-inset-3 !optional;

        &:hover {
            @extend .shadow-inset-5 !optional;
        }
    }

    &:hover {
        @extend .shadow-5 !optional;

        &.active {
            @extend .shadow-inset-5 !optional;
        }
    }

    &:active {
        @extend .shadow-inset-3 !optional;
    }
}

@for $i from 1 through 3 {
    
    .button-round-#{$i} {
        @extend .button ;
        border-radius: #{$i / 2 + 1}em;
    }

    .button-expand-#{$i} {
        @extend .center;
        
        > * { 
            animation: animation-shrink-#{$i} 0.2s ease forwards;

            &.gradient-hover-animation {
                animation: animation-shrink-gradient-#{$i} 0.2s ease forwards;
            }
        } 
    
        &:hover {
            > * { 
                animation: animation-expand-#{$i} 0.2s ease forwards;

                &.gradient-hover-animation {
                    animation: animation-expand-gradient-#{$i} 0.2s ease forwards;
                }
            } 
        }
    }
    
    @keyframes animation-expand-#{$i} {
        0%{margin: 0em; padding: #{$i * 0.5em};}
        100%{margin: #{$i * -0.5em}; padding: #{$i * 0.5em + 0.5em};}
    }
    
    @keyframes animation-shrink-#{$i} {
        0%{margin: #{$i * -0.5em}; padding: #{$i * 0.5em + 0.5em};}
        100%{margin: 0em; padding: #{$i * 0.5em};}
    }

    @keyframes animation-expand-gradient-#{$i} {
        0%{margin: 0em; padding: #{$i * 0.5em}; background-position: 0% 0%;}
        100%{margin: #{$i * -0.5em}; padding: #{$i * 0.5em + 0.5em}; background-position: 100% 100%;}
    }
    
    @keyframes animation-shrink-gradient-#{$i} {
        0%{margin: #{$i * -0.5em}; padding: #{$i * 0.5em + 0.5em}; background-position: 100% 100%;}
        100%{margin: 0em; padding: #{$i * 0.5em}; background-position: 0% 0%;}
    }
}
