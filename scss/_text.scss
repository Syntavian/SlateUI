@use "sass:map";
@use "sass:color";
@use 'variables';
@use 'prototypes';

@mixin text($size: variables.$font-size, $margin: variables.$s-offset, $padding: 0px, $weight: normal) {
    font-family: variables.$fonts;
    font-size: $size;
    margin-top: $margin;
    margin-bottom: $margin;
    padding: $padding;
    font-weight: $weight;
}

@mixin text-levels($scalar) {

    p, span, a, select, option, label, input, textarea, button, .p, .text, .a, .link {
        @include text(variables.$font-size * $scalar);
    } 

    body, div, main, nav {
        @include text(variables.$font-size * $scalar, 0px);
    } 

    h1, .h1 {
        @include text(variables.$h1-size * $scalar);
    }
    
    h2, .h2 {
        @include text(variables.$h2-size * $scalar);
    }
    
    h3, .h3 {
        @include text(variables.$h3-size * $scalar);
    }
    
    h4, .h4 {
        @include text(variables.$h4-size * $scalar);
    }

    h5, .h5 {
        @include text(variables.$h5-size * $scalar);
    }

    h6, .h6 {
        @include text(variables.$h6-size * $scalar);
    }

    @each $name, $theme in variables.$themes {
        $primary: map.get($theme, "primary");
        $secondary: map.get($theme, "secondary");
        $tertiary: map.get($theme, "tertiary");
        $darkened-20: map.get($theme, "darkened-20");
        $lightened-20: map.get($theme, "lightened-20");
        $shifted-10: map.get($theme, "shifted-10");
        $shifted-20: map.get($theme, "shifted-20");
        $complement: map.get($theme, "complement");
        $inverted: map.get($theme, "inverted");
        $text: map.get($theme, "text-colour");

        h1, h2, h3, h4, h5, h6, p, span, a, select, option, label, input, textarea, button, body, div, main, nav, .h1, .h2, .h3, .h4, .h5, .h6, .p, .text, .a, .link {
            &.#{$name} {
                color: $text;
            }
        } 
    }
}

@include text-levels(1);

p {
    text-align: justify;
}

@media screen and (max-width: variables.$screen-width-large) {
    @include text-levels(0.9);
}

@media screen and (max-width: variables.$screen-width-medium) {
    @include text-levels(0.8);
}

@media screen and (max-width: variables.$screen-width-small) {
    @include text-levels(0.7);
}